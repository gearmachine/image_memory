(function(e){function t(t){for(var o,i,u=t[0],c=t[1],s=t[2],h=0,d=[];h<u.length;h++)i=u[h],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("8a23"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",{ref:"force"}),n("div",{ref:"touches"}),n("canvas",{ref:"image"}),n("canvas",{ref:"circle"}),n("canvas",{ref:"canvas"},[e._v(" Sorry, your browser is too old for this demo. ")]),e.show?e._e():n("div",{staticStyle:{width:"200px","z-index":"1",position:"abusolute"}},[n("v-file-input",{attrs:{label:"手本画像","prepend-icon":"mdi-image",accept:"image/*",outlined:"",dense:""},on:{change:e.onImagePicked},model:{value:e.inputImage,callback:function(t){e.inputImage=t},expression:"inputImage"}}),n("v-text-field",{attrs:{outlined:"",dense:"",label:"半径"},model:{value:e.radius,callback:function(t){e.radius=t},expression:"radius"}}),n("v-btn",{on:{click:function(t){e.show=!e.show}}},[e._v("隠す")])],1)])},r=[],i=(n("cb29"),n("baa5"),n("b0c0"),{name:"App",created:function(){var e="initial-scale=1.0, maximum-scale=1.0, user-scalable=no";document.querySelector("meta[name='viewport']").setAttribute("content",e)},mounted:function(){var e=this.$refs.canvas;if(!e||!e.getContext)return!1;var t=e.getContext("2d"),n=0,o=!1,a=[];this.initCircleCanvas(e),e.width=2*window.innerWidth,e.height=2*window.innerHeight;for(var r=window.requestIdleCallback||function(e){setTimeout(e,1)},i=0,u=["touchstart","mousedown"];i<u.length;i++){var c=u[i];e.addEventListener(c,(function(e){var r,i,u=.1;e.touches&&e.touches[0]&&"undefined"!==typeof e.touches[0]["force"]?(e.touches[0]["force"]>0&&(u=e.touches[0]["force"]),r=2*e.touches[0].pageX,i=2*e.touches[0].pageY):(u=.2,r=2*e.pageX,i=2*e.pageY),o=!0,n=40*Math.log(u+1),t.lineWidth=n,t.strokeStyle="black",t.lineCap="round",t.lineJoin="round",t.beginPath(),t.moveTo(r,i),a.push({x:r,y:i,lineWidth:n})}))}for(var s=0,l=["touchmove","mousemove"];s<l.length;s++){var h=l[s];e.addEventListener(h,(function(e){if(o){e.preventDefault();var i,u,c=.1;if(e.touches&&e.touches[0]&&"undefined"!==typeof e.touches[0]["force"]?(e.touches[0]["force"]>0&&(c=e.touches[0]["force"]),i=2*e.touches[0].pageX,u=2*e.touches[0].pageY):(c=.2,i=2*e.pageX,u=2*e.pageY),n=40*Math.log(c+1)*.2+.8*n,a.push({x:i,y:u,lineWidth:n}),t.strokeStyle="black",t.lineCap="round",t.lineJoin="round",a.length>=3){var s=a.length-1,l=(a[s].x+a[s-1].x)/2,h=(a[s].y+a[s-1].y)/2;t.lineWidth=a[s-1].lineWidth,t.quadraticCurveTo(a[s-1].x,a[s-1].y,l,h),t.stroke(),t.beginPath(),t.moveTo(l,h)}r((function(){e.touches&&e.touches[0]}))}}))}for(var d=0,f=["touchend","touchleave","mouseup"];d<f.length;d++){var p=f[d];e.addEventListener(p,(function(e){var r,i;if(e.touches&&e.touches[0]&&"undefined"!==typeof e.touches[0]["force"]?(e.touches[0]["force"],r=2*e.touches[0].pageX,i=2*e.touches[0].pageY):(r=2*e.pageX,i=2*e.pageY),o=!1,t.strokeStyle="black",t.lineCap="round",t.lineJoin="round",a.length>=3){var u=a.length-1;t.quadraticCurveTo(a[u].x,a[u].y,r,i),t.stroke()}a=[],n=0}))}this.loadImage(this.uploadImageUrl)},data:function(){return{radius:250,show:!1,inputImage:null,uploadImageUrl:"https://vignette.wikia.nocookie.net/splatoon/images/7/7f/SSBU_Inkling_Girl.png"}},methods:{initCircleCanvas:function(e){var t=this.$refs.circle;if(!t||!t.getContext)return!1;var n=t.getContext("2d"),o=!1;t.width=2*window.innerWidth,t.height=2*window.innerHeight;for(var a=this.radius,r=0,i=["touchstart","mousedown"];r<i.length;r++){var u=i[r];e.addEventListener(u,(function(e){var r,i;e.touches&&e.touches[0]&&"undefined"!==typeof e.touches[0]["force"]?(r=2*e.touches[0].pageX,i=2*e.touches[0].pageY):(r=2*e.pageX,i=2*e.pageY),o=!0,n.clearRect(0,0,t.width,t.height),n.beginPath(),n.fillStyle="rgb(255, 255, 255)",n.arc(r,i,a,0,2*Math.PI),n.fill()}))}for(var c=0,s=["touchmove","mousemove"];c<s.length;c++){var l=s[c];e.addEventListener(l,(function(e){var r,i;o&&(e.preventDefault(),e.touches&&e.touches[0]&&"undefined"!==typeof e.touches[0]["force"]?(r=2*e.touches[0].pageX,i=2*e.touches[0].pageY):(r=2*e.pageX,i=2*e.pageY),n.clearRect(0,0,t.width,t.height),n.beginPath(),n.fillStyle="rgb(255, 255, 255)",n.arc(r,i,a,0,2*Math.PI),n.fill())}))}for(var h=0,d=["touchend","touchleave","mouseup"];h<d.length;h++){var f=d[h];e.addEventListener(f,(function(){n.clearRect(0,0,t.width,t.height),o=!1}))}},onImagePicked:function(e){var t=this;if(void 0!==e&&null!==e){if(e.name.lastIndexOf(".")<=0)return;var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.uploadImageUrl=n.result,t.clearCanvas(),t.loadImage(t.uploadImageUrl),t.fileLoaded=!0}))}else this.uploadImageUrl=""},loadImage:function(e){var t=this.$refs.canvas,n=this.$refs.image;if(n.width=t.width,n.height=t.height,!n||!n.getContext)return!1;var o=n.getContext("2d"),a=new Image;a.src=e,a.onload=function(){var e,t,r=a.width/a.height,i=parseFloat(n.width)/parseFloat(n.height);console.log("imageAspect",r),console.log("canvasAspect",i),r<i?(console.log("canvasAspect > imageAspect"),e=n.height*r,t=n.height):(console.log("!canvasAspect > imageAspect"),e=n.width,t=n.width/r),o.drawImage(a,0,0,e,t)}}}}),u=i,c=(n("034f"),n("2877")),s=n("6544"),l=n.n(s),h=n("7496"),d=n("8336"),f=n("23a7"),p=n("8654"),g=Object(c["a"])(u,a,r,!1,null,null,null),v=g.exports;l()(g,{VApp:h["a"],VBtn:d["a"],VFileInput:f["a"],VTextField:p["a"]});var m=n("f309");o["a"].use(m["a"]);var w=new m["a"]({});o["a"].config.productionTip=!1,new o["a"]({vuetify:w,render:function(e){return e(v)}}).$mount("#app")},"8a23":function(e,t,n){}});
//# sourceMappingURL=app.62715857.js.map